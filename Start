-- LocalScript (StarterPlayerScripts)
local player = game.Players.LocalPlayer
local camera = workspace.CurrentCamera
local playerGui = player:WaitForChild("PlayerGui")
local RunService = game:GetService("RunService")
local ContextActionService = game:GetService("ContextActionService")

-- Remove old GUI if it exists
local old = playerGui:FindFirstChild("CrosshairGui")
if old then old:Destroy() end

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CrosshairGui"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- ===== CROSSHAIR SETUP =====
local function createCross(imageId, sizeMultiplier, transparency, zIndex, color)
    local cross = Instance.new("ImageLabel")
    cross.Name = "Crosshair"
    cross.Parent = screenGui
    cross.BackgroundTransparency = 1
    cross.AnchorPoint = Vector2.new(0.5,0.5)
    cross.Position = UDim2.new(0.5,0,0.5,0)
    cross.Image = imageId
    cross.Size = UDim2.new(0,48*sizeMultiplier,0,48*sizeMultiplier)
    cross.ScaleType = Enum.ScaleType.Fit
    cross.ZIndex = zIndex
    cross.ImageTransparency = transparency
    if color then
        cross.ImageColor3 = color
    end
    local aspect = Instance.new("UIAspectRatioConstraint", cross)
    aspect.AspectRatio = 1
    local function adjustSize()
        local h = camera.ViewportSize.Y
        local px = math.clamp(math.floor(h*0.04*sizeMultiplier),16,128)
        cross.Size = UDim2.new(0,px,0,px)
    end
    adjustSize()
    camera:GetPropertyChangedSignal("ViewportSize"):Connect(adjustSize)
    return cross
end

-- Main crosshair
local mainCross = createCross("rbxassetid://134865194412398",1.2,0,1000)
local blackCross = createCross("rbxassetid://134865194412398",1.5,0,998,Color3.new(0,0,0))
local rgbCross = createCross("rbxassetid://134865194412398",1.6,0.5,997)

-- Center dot
local dotSize = 8
local dot = Instance.new("Frame")
dot.Name = "CenterDot"
dot.Parent = screenGui
dot.AnchorPoint = Vector2.new(0.5,0.5)
dot.Position = UDim2.new(0.5,0,0.5,0)
dot.Size = UDim2.new(0,dotSize,0,dotSize)
dot.BackgroundColor3 = Color3.new(0,0,0)
dot.BorderSizePixel = 2
dot.BorderColor3 = Color3.new(1,0,0)
dot.ZIndex = 1001
dot.BackgroundTransparency = 0
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0.5,0)
corner.Parent = dot

-- ===== TOP LEFT PANEL =====
local panel = Instance.new("Frame")
panel.Name = "InfoPanel"
panel.Parent = screenGui
panel.AnchorPoint = Vector2.new(0,0)
panel.Position = UDim2.new(0,0,0.091,0)
panel.Size = UDim2.new(0.25,0,0.05,0)
panel.BackgroundTransparency = 0.3
panel.BackgroundColor3 = Color3.new(0,0,0)
panel.BorderSizePixel = 0

-- RGB outline for panel
local panelStroke = Instance.new("UIStroke")
panelStroke.Parent = panel
panelStroke.Thickness = 2
panelStroke.Color = Color3.new(1,0,0)
panelStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
panelStroke.Transparency = 0.2

-- UIListLayout for horizontal arrangement
local layout = Instance.new("UIListLayout")
layout.Parent = panel
layout.FillDirection = Enum.FillDirection.Horizontal
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout.HorizontalAlignment = Enum.HorizontalAlignment.Left
layout.VerticalAlignment = Enum.VerticalAlignment.Center
layout.Padding = UDim.new(0,10)

-- Function to create inner text labels (RGB text, no outline)
local function createTextLabel(parent, text, sizeX)
    local lbl = Instance.new("TextLabel")
    lbl.Parent = parent
    lbl.BackgroundTransparency = 1
    lbl.Text = text
    lbl.TextColor3 = Color3.new(1,0,0) -- initial RGB, will update
    lbl.TextTransparency = 0.2
    lbl.TextScaled = true
    lbl.Font = Enum.Font.SourceSansBold
    lbl.Size = UDim2.new(sizeX,0,1,0)
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.TextYAlignment = Enum.TextYAlignment.Center
    return lbl
end

-- Create main experience label
local lblMain = createTextLabel(panel,"Black Loner",0.3)
-- Add INFO label with 50R$
local lblInfo = createTextLabel(panel,"| 50R$ |",0.25)
-- FPS label to the right
local lblFPS = createTextLabel(panel,"FPS: 0",0.2)

-- ===== DISCORD LABEL =====
local discordLabel = Instance.new("TextLabel")
discordLabel.Parent = screenGui
discordLabel.AnchorPoint = Vector2.new(0,0)
discordLabel.Position = UDim2.new(0,0,0.091+0.05,0) -- below main panel
discordLabel.Size = UDim2.new(0.25,0,0.03,0)
discordLabel.BackgroundTransparency = 1
discordLabel.Text = "https://discord.gg/WkgRYK6Uwc"
discordLabel.TextColor3 = Color3.new(1,1,1)
discordLabel.TextTransparency = 0.8
discordLabel.TextScaled = true
discordLabel.Font = Enum.Font.SourceSansBold
discordLabel.TextXAlignment = Enum.TextXAlignment.Left
discordLabel.TextYAlignment = Enum.TextYAlignment.Center

-- ===== UPDATE LOOP =====
local t = 0
RunService.RenderStepped:Connect(function(dt)
    t = t + dt

    -- RGB color for panel outline and texts
    local r = 0.5 + 0.5 * math.sin(t*2)
    local g = 0.5 + 0.5 * math.sin(t*2 + math.pi*2/3)
    local b = 0.5 + 0.5 * math.sin(t*2 + math.pi*4/3)
    local rgb = Color3.new(r,g,b)

    -- Update panel outline
    panelStroke.Color = rgb

    -- Update inner texts color RGB
    lblMain.TextColor3 = rgb
    lblInfo.TextColor3 = rgb
    lblFPS.TextColor3 = rgb

    -- Crosshairs
    mainCross.ImageColor3 = rgb
    blackCross.Rotation = blackCross.Rotation + dt*90
    rgbCross.ImageColor3 = rgb
    rgbCross.Rotation = rgbCross.Rotation + dt*90
    local pulse = 1.5 + 0.1 * math.sin(t*3)
    rgbCross.Size = UDim2.new(0,48*pulse,0,48*pulse)

    -- Dot outline RGB
    dot.BorderColor3 = rgb

    -- Update FPS
    local fps = math.floor(1/dt)
    lblFPS.Text = "FPS: "..fps
end)

-- Toggle visibility with C key
local visible = true
local function toggle(actionName,inputState)
    if inputState == Enum.UserInputState.Begin then
        visible = not visible
        mainCross.Visible = visible
        blackCross.Visible = visible
        rgbCross.Visible = visible
        dot.Visible = visible
        panel.Visible = visible
        discordLabel.Visible = visible
    end
    return Enum.ContextActionResult.Sink
end
ContextActionService:BindAction("ToggleCrosshair",toggle,false,Enum.KeyCode.C)
